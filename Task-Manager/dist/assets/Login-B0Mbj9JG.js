import{u as b,a as c,r as N,j as e,L as d,s as v}from"./index-CwBlikGn.js";import{c as C,a as g,F,b as m,d as t,E as p}from"./formik.esm-c9l0S4KB.js";import{C as f,G as y}from"./GoogleLogo-BEsnh8IS.js";import{I as u,B as h}from"./index-B8UKdv5Z.js";const L="_loginContainer_1p577_5",k="_loginForm_1p577_12",B="_label_1p577_27",E="_errorMessage_1p577_34",S="_loginButton_1p577_38",A="_passwordContainer_1p577_44",M="_checkbox_1p577_49",P="_divider_1p577_53",I="_line_1p577_59",G="_googleSignupButton_1p577_69",q="_googleLogo_1p577_85",O="_creteaAccount_1p577_90",s={loginContainer:L,loginForm:k,label:B,errorMessage:E,loginButton:S,passwordContainer:A,checkbox:M,divider:P,line:I,googleSignupButton:G,"anticon-google":"_anticon-google_1p577_82",googleLogo:q,creteaAccount:O},$=C({email:g().email("Invalid email address").required("Email is required"),password:g().required("Password is required")}),U=()=>{const r=b(),{login:_,currentUser:l}=c(),{googleSignIn:x}=c(),j=(o,n)=>{const a=n.code==="auth/invalid-credential"?"Invalid email address or password. Please try again!":"An unexpected error occurred. Please try again.";o("password",a)};N.useEffect(()=>{l&&r("/",{replace:!0})},[l,r]);const w=async()=>{try{await x(),r("/")}catch{v.error("Error during Google sign-in")}};return e.jsx("div",{className:s.loginContainer,children:e.jsx(F,{initialValues:{email:"",password:"",remember:!1},validationSchema:$,validateOnMount:!0,onSubmit:async(o,{setSubmitting:n,setFieldError:a})=>{try{await _(o.email,o.password,o.remember),r("/")}catch(i){j(a,i)}n(!1)},children:({handleSubmit:o,isSubmitting:n,values:a})=>e.jsxs(m,{onFinish:o,className:s.loginForm,children:[e.jsx("h2",{children:"Login"}),e.jsx("label",{className:s.label,htmlFor:"email",children:"Email Address"}),e.jsx(t,{name:"email",as:u,className:"ant-input",placeholder:"Email Address"}),e.jsx(p,{name:"email",component:"div",className:s.errorMessage}),e.jsxs("div",{className:s.passwordContainer,children:[e.jsx("label",{className:s.label,htmlFor:"password",children:"Password"}),e.jsx(d,{className:s.forgotPasswordLink,to:"/forgotpassword",children:"Forgot Password?"})]}),e.jsx(t,{name:"password",as:u.Password,className:"ant-input",placeholder:"Password"}),e.jsx(p,{name:"password",component:"div",className:s.errorMessage}),e.jsx(t,{name:"remember",type:"checkbox",children:({field:i})=>e.jsx(f,{...i,className:s.checkbox,children:"Keep me signed in"})}),e.jsx(m.Item,{children:e.jsx(h,{type:"primary",htmlType:"submit",disabled:n||!(a.email&&a.password),className:s.loginButton,children:"Login"})}),e.jsxs("div",{className:s.divider,children:[e.jsx("div",{className:s.line}),e.jsx("span",{children:"or sign in with"}),e.jsx("div",{className:s.line})]}),e.jsxs("div",{className:s.additionalOptions,children:[e.jsxs(h,{onClick:w,className:s.googleSignupButton,children:[e.jsx("img",{src:y,alt:"Google",className:s.googleLogo}),"Continue with Google"]}),e.jsxs("p",{className:s.creteaAccount,children:["Don't have an account?"," ",e.jsx(d,{to:"/signup",children:"Create an account"})]})]})]})})})};export{U as default};
